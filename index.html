<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kalender Konten YouTube Panjang</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <header class="row" style="justify-content:space-between;align-items:flex-start;margin-bottom:16px;flex-wrap:wrap">
      <div class="header-main">
        <input id="title" class="title-input" value="Kalender Konten YouTube Panjang" />
        <div class="muted">Satu video per minggu • Simpel • Tersimpan otomatis di perangkat</div>
      </div>
      <div class="header-controls">
        <label class="control-label">
          <span>Rata-rata CTR</span>
          <div class="row" style="gap:4px">
            <input id="avg_ctr" type="number" step="0.1" value="5" />
            <span>%</span>
          </div>
        </label>
        <label class="control-label">
          <span>Retention</span>
          <div class="row" style="gap:4px">
            <input id="avg_ret" type="number" step="0.1" value="45" />
            <span>%</span>
          </div>
        </label>
        <button id="btn_export">📥 Export</button>
        <label class="control-label"
          style="border:1px solid var(--border);padding:8px 10px;border-radius:8px;background:#fff;cursor:pointer">
          <span>📤 Import</span>
          <input id="file_input" type="file" accept=".csv"
            style="position:absolute;opacity:0;width:1px;height:1px;pointer-events:none" />
        </label>
        <button id="btn_clear" class="danger">🗑️ Clear</button>
      </div>
    </header>

    <section class="card">
      <div class="card-header">
        <h2>📊 Ringkasan Cepat</h2>
      </div>
      <div class="card-content grid stats">
        <div class="stat">
          <div class="label">Total Views</div>
          <div id="stat_views" class="value">0</div>
        </div>
        <div class="stat">
          <div class="label">Watch Time (jam)</div>
          <div id="stat_watch" class="value">0</div>
        </div>
        <div class="stat">
          <div class="label">Rata CTR</div>
          <div id="stat_ctr" class="value">0%</div>
          <div id="stat_ctr_note" class="muted"></div>
        </div>
        <div class="stat">
          <div class="label">Rata Retention</div>
          <div id="stat_ret" class="value">0%</div>
          <div id="stat_ret_note" class="muted"></div>
        </div>
        <div class="stat">
          <div class="label">Total Revenue</div>
          <div id="stat_rev" class="value">Rp 0</div>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="card-header">
        <h2>📅 Daftar Mingguan</h2>
        <div class="actions">
          <button id="btn_add" class="primary">➕ Tambah Minggu</button>
        </div>
      </div>
      <div class="card-content">
        <div class="table-wrap">
          <table id="table_rows">
            <thead>
              <tr>
                <th style="min-width:60px">Minggu</th>
                <th style="min-width:200px">Judul / Ide 🎬</th>
                <th style="min-width:80px">Status</th>
                <th style="min-width:200px">Checklist</th>
                <th style="min-width:120px">Target Rilis</th>
                <th style="min-width:100px">Views</th>
                <th style="min-width:120px">Watch Time (jam)</th>
                <th style="min-width:80px">CTR %</th>
                <th style="min-width:100px">Retention %</th>
                <th style="min-width:120px">Revenue (Rp)</th>
                <th style="min-width:80px">Aksi</th>
              </tr>
            </thead>
            <tbody id="tbody_rows"></tbody>
          </table>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="card-header row" style="justify-content:space-between;flex-wrap:wrap">
        <h2>🎯 Absen 100 Video</h2>
        <div class="muted">Selesai: <b id="absen_done">0</b> / 100</div>
      </div>
      <div class="card-content">
        <div class="table-wrap">
          <table class="attendance" id="table_absen">
            <thead>
              <tr id="absen_head"></tr>
            </thead>
            <tbody>
              <tr id="absen_checks"></tr>
              <tr id="absen_milestones"></tr>
            </tbody>
          </table>
        </div>
        <div id="gelar_wrap" class="row" style="gap:8px;margin-top:12px;flex-wrap:wrap"></div>
      </div>
    </section>

    <section class="card">
      <div class="card-header">
        <h2>💡 Tips Pakai (Quick Guide)</h2>
      </div>
      <div class="card-content">
        <ul style="margin:0 0 0 18px; padding:0; line-height:1.7">
          <li><b>Tambah Minggu</b> untuk bikin baris baru; tanggal target otomatis maju 7 hari.</li>
          <li><b>Status</b> memunculkan <i>checklist</i> relevan—tinggal centang.</li>
          <li>Isi <b>CTR</b> & <b>Retention</b>; jika di atas rata-rata channel, kolom akan highlight 🎉.</li>
          <li>Data disimpan lokal. Gunakan <b>Export CSV</b> untuk backup/share.</li>
          <li>Pakai <b>Absen 100 Video</b> buat tracking konsistensi. Tiap kelipatan 10 ada <i>milestone</i> + gelar.
          </li>
          <li><b>Mobile/Tablet:</b> Geser tabel ke kiri-kanan untuk melihat semua kolom.</li>
        </ul>
      </div>
    </section>
  </div>
  <audio id="milestone-audio" preload="auto">
    <source src="assets/strike.mpeg" type="audio/mpeg">
  </audio>

  <script src="kalender.js"></script>
</body>